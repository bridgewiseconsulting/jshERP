(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d09f7"],{6986:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e._self._c;return a("div",{ref:"container"},[a("a-modal",{staticStyle:{top:"20%",height:"45%"},attrs:{title:e.title,width:1e3,visible:e.visible,"confirm-loading":e.confirmLoading,getContainer:function(){return e.$refs.container},maskStyle:{top:"93px",left:"154px"},wrapClassName:e.wrapClassNameInfo(),mask:e.isDesktop(),maskClosable:!1,cancelText:"取消",okText:"保存"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-row",{staticClass:"form-row",attrs:{gutter:24}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"颜色"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["color"],expression:"[ 'color' ]",modifiers:{trim:!0}}],attrs:{placeholder:"请输入颜色"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"基础重量"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["weight"],expression:"[ 'weight' ]",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入基础重量(kg)"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"保质期"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["expiryNum"],expression:"[ 'expiryNum' ]",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入保质期(天)"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"类别"}},[a("a-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["categoryId"],expression:"[ 'categoryId' ]"}],staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},"allow-clear":"",treeData:e.categoryTree,placeholder:"请选择类别"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"序列号"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["enableSerialNumber"],expression:"[ 'enableSerialNumber' ]"}],attrs:{placeholder:"有无序列号"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("有")]),a("a-select-option",{attrs:{value:"0"}},[e._v("无")])],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"批号"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["enableBatchNumber"],expression:"[ 'enableBatchNumber' ]"}],attrs:{placeholder:"有无批号"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("有")]),a("a-select-option",{attrs:{value:"0"}},[e._v("无")])],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"[ 'remark' ]"}],staticStyle:{"margin-top":"8px"},attrs:{rows:1,placeholder:"请输入备注"}})],1)],1)],1)],1)],1)],1)],1)},l=[],o=t("4ec3"),i=t("ac0d"),s={name:"BatchSetInfoModal",mixins:[i["b"]],data:function(){return{title:"批量编辑",visible:!1,categoryTree:[],materialIds:"",model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this)}},created:function(){},methods:{loadTreeData:function(){var e=this,a={id:""};Object(o["yb"])(a).then((function(a){if(a){e.categoryTree=[];for(var t=0;t<a.length;t++){var r=a[t];e.categoryTree.push(r)}}}))},edit:function(e){this.materialIds=e,this.form.resetFields(),this.model=Object.assign({},""),this.loadTreeData(),this.visible=!0},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,a=this;this.form.validateFields((function(t,r){if(!t){var l=Object.assign(e.model,r);if("{}"===JSON.stringify(l))return void a.$message.warning("抱歉，请输入要批量编辑的内容！");if("1"===l.enableSerialNumber&&"1"===l.enableBatchNumber)return void a.$message.warning("抱歉，序列号和批号只能选择一项！");var i=a.materialIds?a.materialIds.split(","):[];a.$confirm({title:"确认操作",content:"是否操作选中的"+i.length+"条数据?",onOk:function(){a.confirmLoading=!0;var e={ids:a.materialIds,material:JSON.stringify(l)};Object(o["q"])(e).then((function(e){200===e.code?a.$emit("ok"):a.$message.warning(e.data.message)})).finally((function(){a.confirmLoading=!1,a.close()}))}})}}))},handleCancel:function(){this.close()}}},n=s,c=t("2877"),m=Object(c["a"])(n,r,l,!1,null,"315f5939",null);a["default"]=m.exports}}]);