(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2109ff"],{b94f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{ref:"container"},[t("a-modal",{staticStyle:{top:"20px",height:"95%"},attrs:{title:e.title,width:800,visible:e.visible,getContainer:function(){return e.$refs.container},maskStyle:{top:"93px",left:"154px"},wrapClassName:e.wrapClassNameInfo(),mask:e.isDesktop(),maskClosable:!1,cancelText:"关闭"},on:{cancel:e.handleCancel}},[t("template",{slot:"footer"},[t("a-button",{key:"back",on:{click:e.handleCancel}},[e._v("取消(ESC)")])],1),t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{label:e.organType,labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-select",{attrs:{placeholder:"请选择"+e.organType,dropdownMatchSelectWidth:!1,showSearch:"","allow-clear":"",optionFilterProp:"children"},model:{value:e.queryParam.organId,callback:function(t){e.$set(e.queryParam,"organId",t)},expression:"queryParam.organId"}},e._l(e.supList,(function(a,i){return t("a-select-option",{key:i,attrs:{value:a.id}},[e._v("\n                  "+e._s(a.supplier)+"\n                ")])})),1)],1)],1),t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-col",{attrs:{md:12,sm:24}},[t("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),t("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(a,i){return t("span",{},[t("a",{on:{click:function(t){return e.handleAction(i)}}},[e._v(e._s(e.actionType))])])}}])}),t("div",[e._v("注意：具体欠款详情，请到"),t("b",[e._v("报表查询")]),e._v("中的"),t("b",[e._v(e._s(e.organType)+"对账")]),e._v("查看")])],2)],1)},n=[],s=a("b65a"),r=a("4ec3"),l=a("ca00"),o=a("0fea"),c={name:"WaitNeedList",mixins:[s["a"]],data:function(){return{title:"操作",visible:!1,disableMixinCreated:!0,organType:"",actionType:"",supList:[],selectBillRows:[],queryParam:{organId:void 0,supplierType:"",hasDebt:"1",beginTime:"1990-01-01",endTime:Object(l["h"])()},labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},columns:[{title:"操作",dataIndex:"action",width:100,align:"center",scopedSlots:{customRender:"action"}},{title:"",dataIndex:"supplier",width:400,ellipsis:!0},{title:"欠款金额",dataIndex:"allNeed",width:150}],url:{list:"/depotHead/getStatementAccount"}}},created:function(){},methods:{getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.currentPage=this.ipagination.current,e.pageSize=this.ipagination.pageSize-1,e},show:function(e){this.organType=e,this.columns[1].title=e,this.model=Object.assign({},{}),this.visible=!0,"客户"===e?(this.title="待收款客户",this.queryParam.supplierType="客户",this.actionType="收款"):"供应商"===e&&(this.title="待付款供应商",this.queryParam.supplierType="供应商",this.actionType="付款"),this.loadData(1),this.initSupplier()},initSupplier:function(){var e=this;"客户"===this.organType?Object(r["X"])({}).then((function(t){t&&(e.supList=t)})):"供应商"===this.organType&&Object(r["ab"])({}).then((function(t){t&&(e.supList=t)}))},handleAction:function(e){var t=this,a="",i="";"客户"===this.organType?(a="出库",i="销售"):"供应商"===this.organType&&(a="入库",i="采购");var n={search:{organId:e.id,materialParam:"",number:"",type:a,subType:i,status:""},currentPage:1,pageSize:1e3};Object(o["d"])("/depotHead/debtList",n).then((function(a){200===a.code&&(t.selectBillRows=a.data.rows,t.$emit("ok",t.organType,e.id,t.selectBillRows),t.selectBillRows=[],t.close())}))},close:function(){this.$emit("close"),this.visible=!1},handleCancel:function(){this.close()},searchReset:function(){this.queryParam={organId:void 0,supplierType:this.organType,hasDebt:"1",beginTime:"1990-01-01",endTime:Object(l["h"])()},this.loadData(1)}}},p=c,u=a("2877"),d=Object(u["a"])(p,i,n,!1,null,"0e8c88de",null);t["default"]=d.exports}}]);